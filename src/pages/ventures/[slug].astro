---
import { getCollection } from 'astro:content'
import BaseLayout from '../../layouts/BaseLayout.astro'

export async function getStaticPaths() {
  const ventures = await getCollection('ventures')
  return ventures.map((venture) => ({
    params: { slug: venture.slug },
    props: { venture },
  }))
}

const { venture } = Astro.props
const { Content } = await venture.render()
---

<BaseLayout
  title={`${venture.data.title} - Evolvenord Ventures`}
  description={venture.data.description}
  image={venture.data.coverImage}
>
  <article class="container mx-auto px-6 py-32 max-w-4xl">
    <header class="mb-12">
      {venture.data.coverImage && (
        <img
          src={venture.data.coverImage}
          alt={venture.data.title}
          class="w-full h-96 object-cover rounded-lg mb-8"
        />
      )}
      
      <div class="flex items-center gap-3 mb-4">
        <span class={`px-4 py-2 rounded-full ${
          venture.data.status === 'active' ? 'bg-green-100 text-green-700' :
          venture.data.status === 'beta' ? 'bg-blue-100 text-blue-700' :
          'bg-gray-100 text-gray-700'
        }`}>
          {venture.data.status}
        </span>
        <span class="opacity-65">{venture.data.category}</span>
      </div>

      <h1 class="text-4xl md:text-6xl font-adamina mb-6">
        {venture.data.title}
      </h1>

      <div class="grid md:grid-cols-2 gap-8 p-6 bg-gray-50 rounded-lg mb-8">
        <div>
          <h3 class="font-medium mb-2">Tech Stack</h3>
          <div class="flex flex-wrap gap-2">
            {venture.data.stack.map((tech) => (
              <span class="text-sm px-3 py-1 bg-white rounded-full">
                {tech}
              </span>
            ))}
          </div>
        </div>
        <div>
          <h3 class="font-medium mb-2">Website</h3>
          <a
            href={venture.data.website}
            target="_blank"
            rel="noopener noreferrer"
            class="text-primary hover:underline inline-flex items-center gap-1"
          >
            {venture.data.website}
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M7 17L17 7M7 7h10v10"/>
            </svg>
          </a>
        </div>
      </div>
    </header>

    <div class="prose prose-lg max-w-none">
      <Content />
    </div>

    <footer class="mt-16 pt-8 border-t border-gray-200">
      <a href="/ventures" class="text-primary hover:underline">← Back to Ventures</a>
    </footer>
  </article>
</BaseLayout>

